## Конфигурация

### Токен Telegram

Для использования Telegram-бота необходимо предоставить токен Telegram. Этот токен можно получить, создав бота через `https://t.me/botfather`. Токен должен быть сохранен в переменной `TELEGRAM_TOKEN`.

### Конфигурация меню

Меню бота можно настроить с помощью следующих параметров:

- `MAX_ITEMS_PER_PAGE`: Максимальное количество элементов, отображаемых на одной странице меню. По умолчанию 10.
- `MAX_COLUMNS_PER_PAGE`: Максимальное количество столбцов, отображаемых на одной странице меню. По умолчанию 2.

### Белый список пользователей и чатов

Вы можете указать белый список пользователей и чатов, которым разрешено взаимодействовать с ботом. Белый список должен быть предоставлен в виде списка идентификаторов пользователей или чатов в переменных `USER_WHITELIST` соответственно.

### Конфигурация базы данных

Бот поддерживает как базу данных MongoDB, так и JSON. По умолчанию используется база данных Mongo. Чтобы использовать JSON-базу данных, установите переменную `WITHOUT_MONGODB` в значение `True`.

### Таймаут диалога

У бота есть функция таймаута диалога, которая автоматически завершает разговор, если в течение определенного периода времени не происходит активности. Длительность таймаута можно настроить с помощью переменной `DIALOG_TIMEOUT`. По умолчанию таймаут составляет 7200 секунд (2 часа).

### Генерация изображений

Бот поддерживает генерацию изображений на основе ввода пользователя. Чтобы отключить эту функцию, установите переменную `FEATURE_IMAGE_GENERATION` в значение `False`.

Количество генерируемых изображений можно настроить с помощью переменной `OUTPUT_IMAGES`. По умолчанию генерируется 4 изображения.

Сгенерированные изображения имеют время истечения, после которого они удаляются из памяти бота. Время истечения можно настроить с помощью переменной `GENERATED_IMAGE_EXPIRATION_MINUTES`. По умолчанию время истечения составляет 5 минут.

### Прямой ответ на URL

По умолчанию бот отвечает после отправки URL для чтения. Чтобы отключить это и дождаться ввода пользователя после обработки URL, установите переменную `URL_DIRECT_RESPONSE` в значение `False`.

### Потоковые ответы

Бот отвечает с использованием потоковых ответов, что позволяет непрерывно выводить результаты. Чтобы отключить эту функцию, установите переменную `STREAM_ANSWERS` в значение `False`.

### Вызовы функций

Бот поддерживает новые вызовы функций OpenAI. Чтобы отключить эту функцию, установите переменную `FEATURE_FUNCTION_CALLS` в значение `False`.

### Запрос на продолжение

У бота есть функция запроса на продолжение или начало нового разговора. Если она отключена, бот автоматически удалит разговор с таймаутом и начнет новый. Чтобы отключить эту функцию, установите переменную `TIMEOUT_ASK` в значение `False`.

### Транскрипция

Бот поддерживает транскрипцию аудиофайлов. Чтобы отключить эту функцию, установите переменную `FEATURE_TRANSCRIPTION` в значение `False`.

### OCR (Оптическое распознавание символов)

Бот поддерживает OCR для чтения текста с изображений. Чтобы отключить эту функцию, установите переменную `FEATURE_IMAGE_READ` в значение `False`.

### Чтение документов

Бот поддерживает чтение документов. Чтобы отключить эту функцию, установите переменную `FEATURE_DOCUMENT_READ` в значение `False`.

### Веб-поиск

Бот поддерживает функцию веб-поиска. Чтобы отключить эту функцию, установите переменную `FEATURE_BROWSING` в значение `False`.

### Чтение URL

Бот поддерживает чтение содержимого URL. Чтобы отключить эту функцию, установите переменную `FEATURE_URL_READ` в значение `False`.

### Ограничения на размер аудио и файлов

У бота есть ограничения на размер аудиофайлов и документов, которые могут быть обработаны. Максимальный размер аудиофайла можно настроить с помощью переменной `AUDIO_MAX_MB` (по умолчанию 20 МБ), а максимальный размер документа можно настроить с помощью переменной `DOC_MAX_MB` (по умолчанию 10 МБ).

### Ограничение размера URL

У бота есть ограничение на размер URL, который может быть обработан. Максимальный размер URL можно настроить с помощью переменной `URL_MAX_MB`. По умолчанию ограничение составляет 5 МБ.

### Повторы запросов и таймаут

Бот поддерживает повторы запросов в случае сбоев. Максимальное количество повторов можно настроить с помощью переменной `REQUEST_MAX_RETRIES`. По умолчанию установлено 3 повтора. Длительность таймаута запроса можно настроить с помощью переменной `REQUEST_TIMEOUT`. По умолчанию таймаут составляет 10 секунд.

### Ограничение количества страниц PDF

При чтении PDF-документов у бота есть ограничение на количество страниц, которые могут быть обработаны. Максимальное количество страниц можно настроить с помощью переменной `PDF_PAGE_LIMIT`. По умолчанию ограничение составляет 25 страниц.

### Автоматическое определение языка

Бот поддерживает автоматическое определение языка для контекста и меню. Язык по умолчанию для автоматического определения (если язык пользователя не поддерживается ботом) можно настроить с помощью переменной `AUTO_LANG`. Язык по умолчанию - английский (`en`). Этот язык используется для ошибок бота или некоторых отладочных сообщений.

### Поддержка прокси

Бот поддерживает использование прокси только для запросов API. Чтобы использовать прокси, укажите URL прокси в переменной `API_TUNNEL` (например, `http://127.0.0.1:3128`). Если прокси не требуется, оставьте эту переменную пустой.